#!/bin/bash

curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Nate","lastName":"Niu","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"B59CC370-D424-4E94-B954-AB4C506BA12C","access":{"username":"nniu","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001001","externalOther":"B59CC370-D424-4E94-B954-AB4C506BA12C"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Bruce","lastName":"Yu","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"50A96B14-980F-4930-8EDE-0F7F04614404","access":{"username":"byu","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001002","externalOther":"50A96B14-980F-4930-8EDE-0F7F04614404"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Javin","lastName":"Jiao","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"23D83BC7-4860-4E59-935B-3F2FEB29357C","access":{"username":"jjiao","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001003","externalOther":"23D83BC7-4860-4E59-935B-3F2FEB29357C"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Shane","lastName":"Zhang","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"E510A5B8-8C3F-4C71-A584-3836DD702D2C","access":{"username":"shzhang","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001004","externalOther":"E510A5B8-8C3F-4C71-A584-3836DD702D2C"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Barry","lastName":"Feng","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"5C692DFB-BACB-4A26-A913-C04B5C3E1FAC","access":{"username":"bfeng","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001005","externalOther":"5C692DFB-BACB-4A26-A913-C04B5C3E1FAC"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Dentrix 01","lastName":"IBEX","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"49D50E72-4741-4591-8F30-AE77C41D1A37","access":{"username":"ibextdx01","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001006","externalOther":"49D50E72-4741-4591-8F30-AE77C41D1A37"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Dentrix 02","lastName":"IBEX","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"39D6A52E-C835-4DCC-81EB-1D8B386B9851","access":{"username":"ibextdx02","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001007","externalOther":"39D6A52E-C835-4DCC-81EB-1D8B386B9851"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Vivi","lastName":"La","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"B7EE510D-394A-47E4-9CAF-698C286E8E2D","access":{"username":"vla","userGroup":"clients","password":"123456","uploadPassword":"123456"},"mapping":{"externalId":"138001008","externalOther":"B7EE510D-394A-47E4-9CAF-698C286E8E2D"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Serena","lastName":"Zhang","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"EDA7B735-8E31-48C8-B279-F138E30A3FF7","access":{"username":"szhang","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138001009","externalOther":"EDA7B735-8E31-48C8-B279-F138E30A3FF7"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer a516a9e2-852e-4b73-959a-de8da8467d08" -d '{"firstName":"Justin","lastName":"Jia","editionId":1,"blockLogin":false,"usesPostIngestionTranslator":true,"postUploadTopic": "translator","pmsSoftwareId":17,"pmsVersion":"","startDate":"2018-09-27T16:55:45","timeZone":"America/Los_Angeles","brand":"DF","platform":"Demandforce","smb_guid":"17ae13ad-af20-4437-830b-ddb9d113c4c3","access":{"username":"jjia","userGroup":"clients","password":"onibex1!","uploadPassword":"onibex1!"},"mapping":{"externalId":"138004355","externalOther":"372AF9B6-FE07-F547-F6F7-B0BB72D6A8DA"},"features":[{"name":"pms_writeback","enabled":true},{"name":"remove_versioning","enabled":true}]}' http://localhost:10001/business

ESCAPED_FILE_CONTENT=`sed 's/"/\\\\"/g'  resources/ibexUploadProcessed.avsc`
DATA="{\"schema\":\"$ESCAPED_FILE_CONTENT\"}"
echo $DATA > tmp.out
curl -X POST http://localhost:8081/subjects/ibex_upload_processed_avro-value/versions -H "content-type: application/vnd.schemaregistry.v1+json" -d @./tmp.out
